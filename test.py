import unittest
import my_app

def test_predict(client):
    # Send a request to the API endpoint
    response = client.post('/', data={'image_data': '0,0,0,0,0,0,1,1,0,0,0,142,122,94,95,136,177,13,0,0,2,1,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,8,118,186,237,247,250,211,173,71,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,68,142,160,175,163,149,235,238,133,85,159,148,128,76,0,0,1,0,0,0,0,0,0,0,2,0,30,143,147,136,122,102,152,174,198,112,131,137,122,115,125,132,128,29,0,2,0,0,0,0,0,0,0,0,137,142,126,121,121,125,105,139,154,125,149,113,106,113,103,111,121,126,0,0,0,0,0,0,0,0,0,80,146,128,134,123,121,118,110,116,105,101,118,103,112,106,113,112,116,125,17,0,0,0,0,0,0,0,0,101,144,136,132,118,120,117,112,113,128,123,113,106,111,115,105,105,122,131,45,0,0,0,0,0,0,0,0,117,160,167,134,125,120,120,113,116,105,108,116,120,110,108,96,105,149,143,58,0,0,0,0,0,0,0,0,136,172,196,147,123,117,118,115,117,106,111,118,118,106,112,90,158,154,136,75,0,0,0,0,0,0,0,0,152,159,232,204,120,129,116,121,113,123,129,116,110,108,113,96,201,125,146,82,0,0,0,0,0,0,0,0,175,139,246,241,125,138,122,126,118,120,128,123,117,113,103,113,203,112,149,110,0,0,0,0,0,0,0,0,195,129,237,220,112,128,131,120,122,108,117,117,120,115,97,122,201,120,155,116,0,0,0,0,0,0,0,4,206,99,221,238,95,131,142,122,118,125,126,122,126,129,101,111,193,134,165,115,0,0,0,0,0,0,0,23,214,96,206,242,84,134,144,120,115,132,125,115,117,137,101,108,206,152,165,115,0,0,0,0,0,0,0,28,220,100,191,254,89,143,142,113,123,113,113,126,106,153,92,127,224,177,160,122,0,0,0,0,0,0,0,35,238,120,175,247,95,144,134,118,122,128,118,129,106,154,101,136,224,205,148,144,3,0,0,0,0,0,0,43,227,174,168,251,95,152,125,125,118,138,122,123,108,136,123,107,194,222,139,152,19,0,0,0,0,0,0,60,191,195,183,153,112,147,122,123,125,129,115,120,115,117,146,61,188,227,134,149,35,0,0,0,0,0,0,85,172,195,210,179,118,134,121,123,127,120,120,118,117,106,144,76,194,227,142,147,49,0,0,0,0,0,0,101,158,203,211,105,126,125,121,120,128,141,121,120,122,110,128,99,146,243,144,139,59,0,0,0,0,0,0,106,141,207,210,75,128,117,127,108,138,142,127,118,121,112,106,125,74,236,144,136,69,0,0,0,0,0,0,108,126,204,203,81,132,118,128,105,155,122,107,122,113,118,100,136,23,189,147,133,79,0,0,0,0,0,0,105,133,194,179,64,137,116,121,103,162,143,120,123,118,118,105,133,21,157,169,123,95,0,0,0,0,0,0,89,146,188,55,80,139,122,118,111,164,146,116,118,108,117,110,143,34,94,173,103,97,0,0,0,0,0,0,71,144,195,0,38,158,105,115,118,148,132,122,122,116,115,108,149,0,23,181,116,54,0,0,0,0,0,0,77,143,195,2,0,122,139,115,108,139,147,112,120,110,112,125,99,0,8,191,121,73,0,0,0,0,0,0,95,151,191,7,0,0,100,144,122,173,179,123,141,142,146,97,0,0,0,198,129,87,0,0,0,0,0,0,0,11,19,0,0,0,0,34,54,96,100,92,91,59,19,0,0,0,0,17,0,0,0,0,0'})

    # Check that the response is correct
    assert response.status_code == 200
    assert response.data.decode('utf-8') == 'Shirt'

class PredictTestCase(unittest.TestCase):
    def setUp(self):
        self.app = my_app.app.test_client()

    def test_predict(self):
        test_predict(self.app)

if __name__ == '__main__':
    unittest.main()
